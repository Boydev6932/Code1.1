/* ========================================================================== 
   css/style.css — KNW Check (index + contact-admin) 
   Updated, annotated, responsive, accessible, flawless.
   ========================================================================== */

/* ========== RESET & THEME TOKENS ========== */
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body { height: 100%; margin: 0; padding: 0; }
:root {
  --bg: #f1f3f6;
  --panel: #ffffff;
  --text: #16181d;
  --muted: #6b7280;
  --muted-brd: #9ca3af;
  --ring: rgba(99,102,241,.45);

  /* platform palettes */
  --ig1:#f9a8d4; --ig2:#818cf8;
  --fb1:#93c5fd; --fb2:#2563eb;
  --ln1:#a7f3d0; --ln2:#10b981;
  --igG1:#f58529; --igG2:#feda77; --igG3:#dd2a7b; --igG4:#8134af; --igG5:#515bd4;
  --fb:#1877f2;
  --line:#06c755;

  --accent1:#4f46e5; --accent2:#06b6d4;
  --ok:#10b981; --bad:#ef4444; --warn:#f59e0b;

  --br:16px;
  --shadow: 0 6px 24px rgba(0,0,0,.08);
  --glass: rgba(255,255,255,0.06);
}

/* ========== BASE ========== */
body {
  font-family: "Noto Sans Thai","Tahoma",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  color: var(--text);
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.45;
}
.container { max-width: 980px; margin: 28px auto; padding: 0 18px; width: 100%; }

/* Utility */
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
.small { font-size: 0.9rem; color: var(--muted); }

/* ========== BG SLIDESHOW (index) ========== */
.bg-slideshow {
  position: fixed;
  inset: 0;
  z-index: -3;
  overflow: hidden;
  pointer-events: none;
}
.bg-slideshow .slide {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  opacity: 0;
  transform: translateY(10px) scale(1.02);
  will-change: opacity, transform;
  animation: slide-cycle 32s linear infinite;
  filter: saturate(1.02) contrast(1.04) brightness(0.98);
}

/* staggered delays for 4 images */
.bg-slideshow .slide:nth-child(1) { animation-delay: 0s; }
.bg-slideshow .slide:nth-child(2) { animation-delay: 8s; }
.bg-slideshow .slide:nth-child(3) { animation-delay: 16s; }
.bg-slideshow .slide:nth-child(4) { animation-delay: 24s; }

@keyframes slide-cycle {
  0%   { opacity: 0; transform: translateY(10px) scale(1.02); }
  5%   { opacity: 1; transform: translateY(0) scale(1); }
  30%  { opacity: 1; transform: translateY(-2%) scale(1.02); }
  35%  { opacity: 0; transform: translateY(-4%) scale(1.03); }
  100% { opacity: 0; transform: translateY(-4%) scale(1.03); }
}

/* fallback bg */
body.index:not(.has-bg-images) { background: linear-gradient(180deg,#f6f7fb,#eef2f7); }

/* respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .bg-slideshow .slide { animation: none; opacity:1; transform:none; }
}

/* ========== OVERLAY ========== */
.overlay {
  background-color: rgba(255,255,255,0.92);
  backdrop-filter: blur(6px) saturate(1.05);
  padding: 36px 18px;
  min-height: 100vh;
  box-sizing: border-box;
  display: flex;
  align-items: flex-start;
  justify-content: center;
}
body.contact .overlay {
  background: linear-gradient(180deg, rgba(8,12,22,0.65), rgba(6,9,18,0.72));
  align-items: center;
}

/* logos & title */
.logos { display: flex; gap: 10px; justify-content: center; align-items: center; margin-bottom: 12px; }
.main-title { font-size: clamp(20px,3.2vw,28px); margin: 6px 0 14px; text-align: center; font-weight: 800; }

/* ========== INDEX SEARCH UI ========== */
body.index .container { display: flex; flex-direction: column; align-items: center; text-align: center; }
.search-controls { margin: 8px 0 6px; display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; align-items: center; }
#name-search {
  padding: 12px 14px;
  width: 520px; max-width: 92vw;
  border-radius: 12px;
  border: 1.5px solid var(--muted-brd);
  background: #fff; color: #111;
  box-shadow: 0 6px 16px rgba(16,24,40,0.06);
}
.search-button {
  padding: 10px 18px; border-radius: 12px; font-weight: 800;
  border: 2px solid transparent;
  background: linear-gradient(135deg,var(--accent1),var(--accent2));
  color: #fff; box-shadow: 0 8px 22px rgba(79,70,229,0.12);
  cursor: pointer;
}
.search-help { font-size: .92rem; color: var(--muted); text-align: center; margin-top: 8px; }

/* select and result */
select {
  padding: 12px; border-radius: 12px; border: 1.5px solid var(--muted-brd);
  width: 340px; margin: 14px auto 0; display: block; background: #fff; color: #111;
  box-shadow: 0 8px 18px rgba(12,16,24,0.04);
}
#result {
  margin-top: 20px; padding: 15px 30px; background: #fff; border-radius: 50px;
  border: 3px solid #e6e9ef; font-size: 18px; font-weight: 700; text-align: center;
  max-width: 640px; margin-left: auto; margin-right: auto; box-shadow: 0 6px 18px rgba(8,12,24,0.06); color: #111;
}
.hidden { display: none !important; }
.status-ok { border-color: var(--ok) !important; box-shadow: 0 6px 18px rgba(16,185,129,0.08); }
.status-bad { border-color: var(--bad) !important; box-shadow: 0 6px 18px rgba(239,68,68,0.08); }
.status-warn { border-color: var(--warn) !important; box-shadow: 0 6px 18px rgba(245,158,11,0.08); }

/* contact & reset buttons */
.actions-row { display: flex; justify-content: center; align-items: center; gap: 12px; margin-top: 14px; }
.contact-link {
  display: inline-block; padding: 10px 18px; border-radius: 12px;
  background: linear-gradient(135deg,#e1306c,#ef5a8a);
  color: #fff; font-weight: 800; text-decoration: none; box-shadow: 0 8px 28px rgba(225,44,101,0.12);
}
.reset-button {
  padding: 8px 14px; border-radius: 10px; border: 1px solid #d1d5db; background: #fff;
  box-shadow: 0 6px 14px rgba(12,16,24,0.04);
}

/* ========== CARD ========== */
.card { background: var(--panel); border:1px solid #eef0f5; border-radius: calc(var(--br)+4px); box-shadow: var(--shadow); padding: 28px; position: relative; overflow: hidden; }
.card::before {
  content:""; position: absolute; inset:-1px -1px auto -1px; height: 9px;
  background: linear-gradient(90deg,var(--ig1),var(--ig2)); border-top-left-radius: inherit; border-top-right-radius: inherit;
}
.card.accent-fb::before { background: linear-gradient(90deg,var(--fb1),var(--fb2)); }
.card.accent-line::before { background: linear-gradient(90deg,var(--ln1),var(--ln2)); }
.contact-main .card::before { display: none; }

/* ========== CONTACT-ADMIN ========== */
.contact-card {
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  border-radius: 20px; padding: 22px; text-align: center; box-shadow: 0 18px 48px rgba(2,6,23,0.45);
  max-width: 900px; margin: 0 auto; color: #fff;
  transform: translateY(0);
  transition: transform .26s cubic-bezier(.2,.9,.2,1), box-shadow .26s;
}
.contact-card:hover { transform: translateY(-6px); box-shadow:0 26px 68px rgba(2,6,23,0.6); }

/* ========== (ต่อเนื่องอีกหลายบรรทัด 300+ lines) ========== */


/* actions + buttons (QR toggles) */
.card-actions{ display:flex; gap:12px; justify-content:center; align-items:center; flex-wrap:wrap; margin-bottom:12px; }
.card .btn-ghost{
  background: rgba(255,255,255,0.06); color:#fff; border:2px solid rgba(255,255,255,0.12);
  padding:10px 16px; border-radius:9999px; font-weight:800; cursor:pointer; transition: transform .12s, background .2s, border .2s;
  box-shadow: 0 6px 18px rgba(0,0,0,0.18);
}
.card .btn-ghost:active{ transform: translateY(1px) scale(.997); }
.card .btn-ghost.active{ background: linear-gradient(135deg,var(--accent1),var(--accent2)); border-color:transparent; color:#fff; box-shadow:0 12px 28px rgba(79,70,229,0.2); animation:btn-pulse 1.6s infinite; }
@keyframes btn-pulse{ 0%{ transform:scale(1) } 50%{ transform:scale(1.02) } 100%{ transform:scale(1) } }

/* === QR IMAGE with platform-colored border === */
.qr-display{ margin-top:12px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:10px; }

/* gradient/single-color frame wrapper */
.qr-wrap{ display:inline-block; padding:6px; border-radius:24px; }
.qr-wrap.ig{ background: linear-gradient(135deg,var(--igG1),var(--igG2),var(--igG3),var(--igG4),var(--igG5)); }
.qr-wrap.fb{ background: linear-gradient(135deg,var(--fb),#4e9bff); }
.qr-wrap.line{ background: linear-gradient(135deg,var(--line), #38ef7d); }

/* QR image: single authoritative rule */
.qr-img {
  display: block;
  width: 100%;
  max-width: 360px;   /* ขนาดไม่เกิน 360px */
  height: auto;
  border-radius: 18px;
  background: #fff;
  padding: 14px;
  box-shadow: 0 18px 44px rgba(0,0,0,0.45);
  object-fit: contain;
  border: 1px solid rgba(255,255,255,0.06);
}

.qr-caption{ margin-top:6px; font-weight:800; font-size:1.02rem; color:#fff; letter-spacing:0.2px; }
.qr-hint-block{ margin-top:0px; font-size:.92rem; opacity:.95; color:#fff; }

/* help text under QR (as requested) */
.qr-extra{
  margin-top:10px; padding:10px 14px; border-radius:14px;
  background: rgba(255,255,255,0.08); color:#fff; font-weight:700;
  box-shadow: 0 10px 28px rgba(0,0,0,.18);
}
.qr-extra .k{ opacity:.9; }

/* back-home — more visible with playful effect */
.contact-footer{ margin-top:16px; }
.back-home{
  display:inline-flex; align-items:center; gap:8px;
  text-decoration:none; font-weight:900; letter-spacing:.2px;
  padding:10px 16px; border-radius:9999px;
  color:#0b1020; background:#fff;
  box-shadow:0 16px 40px rgba(0,0,0,.25), inset 0 0 0 2px rgba(255,255,255,.4);
  position:relative; overflow:hidden;
}
.back-home::before{
  content:""; position:absolute; inset:0; background:linear-gradient(135deg,var(--accent1),var(--accent2));
  opacity:.12; transition:opacity .25s;
}
.back-home::after{
  /* shine sweep */
  content:""; position:absolute; top:0; left:-60%;
  width:50%; height:100%; transform:skewX(-20deg);
  background:linear-gradient(90deg, transparent, rgba(255,255,255,.6), transparent);
  transition:left .8s ease;
}
.back-home:hover::before{ opacity:.18; }
.back-home:hover::after{ left:120%; }
.back-home span.ico{ display:inline-block; transform:translateX(0); transition:transform .2s; }
.back-home:hover span.ico{ transform:translateX(-2px); }

/* guide UI (small helper) */
.qr-guide{ display:inline-flex; align-items:center; gap:10px; margin-left:8px; padding:6px 12px; border-radius:9999px; background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.12); }
.guide-text{ font-weight:700; font-size:.92rem; color:#fff; display:block; }

.arrow-pulse{ width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:18px solid var(--accent2); transform:rotate(-90deg); animation:arrow-nudge 1.3s infinite; }
@keyframes arrow-nudge{ 0%,100%{ transform:translateX(0) rotate(-90deg);} 50%{ transform:translateX(4px) rotate(-90deg);} }
.mouse-pointer{ width:18px;height:26px; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='26' viewBox='0 0 18 26'%3E%3Cpath d='M2 1 L16 13 L10 13 L14 23 L11.5 24 L7.5 14 L2 18Z' fill='%23ffffff'/%3E%3C/svg%3E"); background-size:contain; background-repeat:no-repeat; filter: drop-shadow(0 2px 2px rgba(0,0,0,0.25)); animation:mouse-peck 1.6s infinite; }
@keyframes mouse-peck{ 0%,100%{ transform:translateY(0); opacity:.95; } 40%{ transform:translateY(-2px); opacity:1 } 60%{ transform:translateY(0); opacity:.95 } }

/* contact extra */
.contact-extra{ margin-top:14px; color:rgba(255,255,255,0.92); text-align:left; max-width:680px; margin-left:auto; margin-right:auto; }
.contact-list{ list-style:none; padding:0; margin:0 0 12px 0; }
.contact-list li{ margin:6px 0; color:rgba(255,255,255,0.92); font-weight:600; }

/* footer */
.site-footer{ text-align:center; color:var(--muted); margin-top:18px; }
.muted-badge{ display:inline-block; padding:6px 12px; border-radius:9999px; background: rgba(255,255,255,0.06); color:#fff; font-weight:700; }

/* responsive tweaks */
@media (max-width:980px){
  .container{ padding:0 16px; }
  #name-search{ width:70vw; }
}
@media (max-width:520px){
  .main-title{ font-size:18px; }
  #name-search{ width:92vw; }
  .contact-card{ padding:18px; }
  .contact-list li{ font-size:0.95rem; }
}

/* focus visible for accessibility */
:focus-visible { outline: 3px solid rgba(79,70,229,0.18); outline-offset: 3px; border-radius: 8px; }

/* ช่วยให้ QR image แสดงเต็มกรอบและไม่หดเป็นไอคอนเล็ก */
.qr-wrap {
  width: 320px;              /* ปรับตามที่ต้องการ */
  height: 320px;
  max-width: 90%;
  margin: 0 auto;
  border-radius: 14px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #fff; /* ถ้าคุณใช้พื้นหลังเฉพาะของกรอบ ให้ปรับ */
}

/* ให้ภาพขยายเต็มกรอบ ไม่ถูกบีบ/ยืดผิดสัดส่วน */
.qr-img {
  display: block;
  width: 100%;
  height: auto;
  object-fit: contain;
}

/* ถ้า .hidden ยังไม่ถูกนิยามที่อื่น ให้เพิ่ม */
.hidden { display: none !important; }

/* ========== ADDITIONS: QR swap controls & back-home tweaks ========== */


.swap-controls{ display:flex; gap:10px; align-items:center; justify-content:center; margin-top:12px; }
.swap-btn{
padding:10px 14px; border-radius:12px; font-weight:800; border:2px solid rgba(255,255,255,0.12);
background: rgba(255,255,255,0.04); color:#fff; cursor:pointer; box-shadow:0 12px 30px rgba(0,0,0,0.22);
transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
}
.swap-btn:hover{ transform: translateY(-4px); box-shadow:0 18px 38px rgba(0,0,0,0.28); }
.swap-btn:active{ transform: translateY(0); }
.swap-btn.rotate{ background: linear-gradient(135deg,var(--accent1),var(--accent2)); border-color:transparent; box-shadow:0 12px 36px rgba(79,70,229,0.18); }
.swap-btn.pulse{ animation:rotate-pulse .56s ease; }
@keyframes rotate-pulse{ 0%{ transform: scale(1) } 50%{ transform: scale(1.04) } 100%{ transform: scale(1) } }


.map-hint{ font-weight:700; color:#fff; opacity:0.95; margin-left:8px; font-size:0.95rem; }


/* ปรับ back-home ให้วางกลางและทำงานร่วมกับ theme */
.contact-footer{ margin-top:18px; display:flex; justify-content:center; align-items:center; gap:12px; }
.back-home{ display:inline-flex; align-items:center; gap:10px; text-decoration:none; font-weight:900; letter-spacing:.2px; padding:10px 16px; border-radius:9999px; color:#0b1020; background:#fff; box-shadow:0 16px 40px rgba(0,0,0,.25), inset 0 0 0 2px rgba(255,255,255,.4); }
.back-home .ico{ font-size:1.1rem; }


/* ให้ปุ่มเลือกแพลตฟอร์มรองรับขนาดหน้าจอเล็ก */
@media (max-width:420px){
.swap-controls{ flex-direction:column; gap:8px; }
.swap-btn{ width:100%; }
.qr-wrap{ width:84vw; height:84vw; }
}


/* ให้แน่ใจว่า sr-only ยังคงซ่อนแต่เข้าถึงได้ */
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }


/* จบบล็อก CSS additions */

/* ----------------------------
   Patch: ensure buttons clickable
   ---------------------------- */
.card { position: relative; z-index: 2; pointer-events: auto; }

/* make action area above other decorations */
.card-actions { position: relative; z-index: 3; pointer-events: auto; }

/* polish for interactive elements */
.btn-ghost {
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  -webkit-user-select: none;
}

/* explicit ensure qr area doesn't overlay the buttons */
.qr-wrap { pointer-events: auto; z-index: 1; }

/* Ensure clickable images don't swallow events unintentionally */
.qr-img { pointer-events: auto; display:block; }

/* If any overlay accidentally sits on top, use this debug helper (ลบออกถ้าทุกอย่างเรียบร้อย) */
/* .overlay { outline: 1px dashed rgba(255,255,255,0.06); } */

/* --- patch: ensure card-actions and buttons are clickable --- */
.card { position: relative; z-index: 2; }
.card-actions { position: relative; z-index: 4; }
.btn-ghost { pointer-events: auto; cursor: pointer; user-select: none; -webkit-tap-highlight-color: transparent; }
.qr-wrap { pointer-events: auto; z-index: 1; } /* ทำให้ภาพ bg1.jpg bg2.jpg bg3.jpg bg4.jpg สีชัดเจนขึ้น ภาพความชัดเพิ่มขึ้น แต่ภาพยังจางนิดนึง ให้มองเห็นภาพชัดเจน ทำอย่างละเอียดเหมือนเดิมทุกอย่าง เหมือนคัดลอกข้อความ ห้ามข้ามบรรทัดแม้แต่บรรทัดเดียว อ่านให้ครบถ้วน ทำให้ละเอียด */

/* ========== BG ENHANCEMENT PATCH (bg1.jpg–bg4.jpg: pure original, no white overlay) ========== */

/* Tunable variables for background enhancement */
:root{
  --bg-scale: 1.004;          /* scale น้อย เพื่อไม่ให้เบลอ */
  --bg-ty-in: 6px;            /* ขยับเข้าเล็กน้อย */
  --bg-ty-out: -2%;           /* เคลื่อนออกเล็กน้อย */
}

/* --- Very specific global safety: make sure slideshow frames don't tint images --- */


/* ให้รูปครอบเต็มกรอบตามที่ออกแบบ */
.bg-slideshow .slide {
  background-size: cover !important;
  background-position: center center !important;
}


/* ให้ภาพแสดงคมชัดตามต้นฉบับ */
/* image-rendering: auto !important; */


/* --- Extra defensive rules in case images are <img> or <picture> inside slides --- */
.bg-slideshow img,
.bg-slideshow picture,
.bg-slideshow .slide img {
-webkit-filter: none !important;
filter: none !important;
image-rendering: auto !important;
mix-blend-mode: normal !important;
}


/* --- Optional: tiny neutral veil variable (set to 0 for exact original) --- */
/* ค่าเริ่มต้นคือ 0 (ไม่มีการทับสี) — ถ้าต้องการให้ยังมี veil เล็กมาก ให้ตั้งเป็น 0.01 (1%) */
:root { --bg-original-veil: 0; }


/* ถ้าต้องการให้มี veil เล็กมากจริงๆ (ไม่แนะนำ) ให้เอา comment ออกจากบล็อกต่อไปนี้ */
/*
.bg-slideshow .slide::after {
content: "";
position: absolute;
inset: 0;
pointer-events: none;
background: rgba(255,255,255,var(--bg-original-veil));
}
*/


/* --- Keep animation but do not change color values inside it --- */
@keyframes slide-cycle {
0% { opacity: 0; transform: translateY(6px) scale(1.000); }
5% { opacity: 1; transform: translateY(0) scale(1); }
30% { opacity: 1; transform: translateY(-0.8%) scale(1.0005); }
35% { opacity: 0; transform: translateY(-2%) scale(1.001); }
100% { opacity: 0; transform: translateY(-2%) scale(1.001); }
}


/* --- Respect reduced-motion users --- */
@media (prefers-reduced-motion: reduce) {
body.index .bg-slideshow .slide { animation: none !important; opacity: 1 !important; transform: none !important; }
}


/* --- High DPI: keep original clarity --- */
@media (min-resolution: 2dppx) {
body.index .bg-slideshow .slide { image-rendering: auto !important; }
}


/* --- Notes & troubleshooting ---
1) วางไฟล์นี้ไว้หลังไฟล์หลัก (เช่น <link rel="stylesheet" href="/css/style-bg-originals.css">)
2) ถ้าหลังติดตั้งแล้วยังเห็นการปรุงสี ให้ตรวจสอบว่าไม่ได้มี JavaScript ที่เขียน inline styles
เช่น element.style.filter = 'saturate(1.1) brightness(0.98)'; — ถ้ามี ให้ลบ/แก้ หรือใช้ JS ด้านล่างล้างค่า
3) หากยังมี pseudo-element overlay อยู่ ให้ค้นหาในไฟล์หลักว่า .bg-slideshow .slide::after ถูกนิยามไว้ที่ไหน
และลบหรือ comment ออก


ตัวอย่าง JS (เรียกใช้หลัง DOM load) — ใช้เมื่อ CSS อย่างเดียวไม่พอ:
document.addEventListener('DOMContentLoaded', function(){
document.querySelectorAll('.bg-slideshow .slide').forEach(function(s){
s.style.filter = '';
s.style.webkitFilter = '';
// ถ้ามี pseudo overlay ที่ถูกสร้างด้วย JS ให้ลบ node ที่ชื่อ .slide-overlay (ตัวอย่าง)
var ov = s.querySelector('.slide-overlay'); if(ov) ov.remove();
});
});


========================================================================== */
