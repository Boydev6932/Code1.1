<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö ‚Äî KNW Check</title>

  <!-- CSP (‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï img ‡∏à‡∏≤‡∏Å file: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö local ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£) -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' https: data: blob: file:; connect-src 'self'; font-src 'self'; object-src 'none'; base-uri 'none'; frame-ancestors 'none'; form-action 'self';">
  <meta name="referrer" content="strict-origin-when-cross-origin">

  <link rel="stylesheet" href="css/style.css">

  <!-- ‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ (standalone) -->
  <style>
    .hidden{ display:none !important; }

    /* back-home tweaks */
    .contact-footer{ margin-top:18px; display:flex; justify-content:center; align-items:center; gap:12px; }
    .back-home{ display:inline-flex; align-items:center; gap:10px; text-decoration:none; font-weight:900; letter-spacing:.2px; padding:10px 16px; border-radius:9999px; color:#0b1020; background:#fff; box-shadow:0 16px 40px rgba(0,0,0,.25), inset 0 0 0 2px rgba(255,255,255,.4); }
    .back-home .ico{ font-size:1.1rem; }

    /* sr-only (accessibility) */
    .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

    /* Ensure QR wrapper sizing if CSS file not loaded */
    .qr-wrap{ width:320px; height:320px; max-width:90%; margin:0 auto; border-radius:14px; overflow:hidden; display:flex; align-items:center; justify-content:center; background:#fff; }
    .qr-img{ display:block; width:100%; height:auto; object-fit:contain; border-radius:18px; padding:14px; background:#fff; box-shadow:0 18px 44px rgba(0,0,0,0.15); border:1px solid rgba(0,0,0,0.04); }
  </style>
</head>
<body class="contact">
  <div class="overlay contact-main">
    <div class="card contact-card" aria-labelledby="contact-heading">
      <div class="logos" aria-hidden="false">
        <!-- ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å -->
        <img src="https://i0.wp.com/knw.ac.th/wp-content/uploads/2024/12/%E0%B9%81%E0%B8%81%E0%B9%88%E0%B8%99%E0%B8%99%E0%B8%84%E0%B8%A3%E0%B8%A7%E0%B8%B4%E0%B8%97%E0%B8%A2%E0%B8%B2%E0%B8%A5%E0%B8%B1%E0%B8%A2-Logo-PNG-color.png?resize=947%2C949&ssl=1"
             alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ ‡πÅ‡∏Å‡πà‡∏ô‡∏ô‡∏Ñ‡∏£‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢" width="70" height="70" loading="lazy" decoding="async">
        <img src="https://scontent.fkkc3-1.fna.fbcdn.net/v/t1.15752-9/532944842_2000679387359224_5786569609575666025_n.png?stp=dst-png_p480x480&_nc_cat=109&ccb=1-7&_nc_sid=0024fc&_nc_ohc=v5YPLokYHLEQ7kNvwH1ja3F&_nc_oc=AdnlHs5L6L9gX79wuenMc_qbwDSBzWdgU2EJXS_4TewN5wr2nK9-vjRyuCKMms-yZbP39xSnqENHT5TB_Q3TH6fu&_nc_ad=z-m&_nc_cid=0&_nc_zt=23&_nc_ht=scontent.fkkc3-1.fna&oh=03_Q7cD3AFBevARtScDVGqIb7cflBSWmP2-ZeDEGIyCBi-HyAE_AA&oe=68D52AE7"
             alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ ROTC" width="60" height="80" loading="lazy" decoding="async">
      </div>

      <main class="container">
        <section>
          <h2 id="contact-heading" class="contact-heading">‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</h2>

          <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°: IG / FB / LINE -->
          <div class="card-actions" role="group" aria-label="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°">
            <button class="btn btn-ghost active" data-show-qr="ig" aria-pressed="true">‡πÅ‡∏™‡∏î‡∏á QR ‚Äî Instagram</button>
            <button class="btn btn-ghost" data-show-qr="fb" aria-pressed="false">‡πÅ‡∏™‡∏î‡∏á QR ‚Äî Facebook</button>
            <button class="btn btn-ghost" data-show-qr="line" aria-pressed="false">‡πÅ‡∏™‡∏î‡∏á QR ‚Äî LINE</button>
          </div>

          <div class="qr-display" aria-live="polite">
            <div id="qr-wrap" class="qr-wrap ig" aria-hidden="false">
              <!-- ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å assets/ ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß -->
              <!-- Required assets (place these files in assets/):
                   - qr-instagram.png
                   - qr-facebook.png
                   - qr-line.png
              -->
              <img id="contact-qr-img" class="qr-img" src="assets/qr-instagram.png" alt="QR Code ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•" width="300" height="300" loading="lazy" decoding="async">
            </div>

            <div class="qr-caption">‡∏™‡πÅ‡∏Å‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏ä‡∏ó ‚Äî <span id="qr-platform-label">Instagram</span></div>
            <div class="qr-hint-block muted-badge">‡∏™‡πÅ‡∏Å‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏≠‡∏î/‡πÅ‡∏ä‡∏ó</div>

            <div class="qr-extra">
              <div class="k">‡∏´‡∏≤‡∏Å‡∏™‡πÅ‡∏Å‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î ‡πÉ‡∏´‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠ IG : <strong>_littleboy555</strong></div>
              <div class="k">Facebook : <strong>Kungbang Konkaew</strong></div>
              <div class="k">Line Id : <strong>kungbang2435</strong></div>
            </div>

            <div id="qr-fallback" class="qr-fallback hidden" role="status" aria-hidden="true" style="margin-top:12px;">
              <div class="muted small" style="color:rgba(255,255,255,0.95); font-weight:700;">
                ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏†‡∏≤‡∏û QR ‚Äî ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà <code>assets/qr-*.png</code>
              </div>
            </div>

          </div>

        </section>
      </main>

      <footer class="site-footer">
        <div class="contact-footer">
          <a class="back-home" href="index.html" id="back-home" aria-label="‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å">
            <span class="ico" aria-hidden="true">üè†</span>
            <span>‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span>
          </a>
        </div>
        <small style="display:block; margin-top:12px; color:rgba(255,255,255,0.9);">¬© <span id="year"></span> KNW Check ‚Ä¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</small>
      </footer>
    </div>
  </div>

    <!-- ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å (‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå js/contact-admin.js) -->
  <script src="js/contact-admin.js" defer></script>
</body>
</html>

  <!-- JavaScript: ‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏¥‡∏î body ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ DOM ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô -->
  <script>
(function(){
  // ‡πÉ‡∏™‡πà‡∏õ‡∏µ
  const yearEl = document.getElementById('year');
  if (yearEl) yearEl.textContent = new Date().getFullYear();

  // Paths & candidates: **‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏•‡∏á‡πÉ‡∏ô assets/**
  const PATHS = ['assets/'];
  const FILE_CANDIDATES = {
    ig:   ['qr-instagram.png','qr-instagram.PNG','qr_instagram.png','qr-instagram.jpg'],
    fb:   ['qr-facebook.png','qr-facebook.PNG','qr_facebook.png','qr-facebook.jpg'],
    line: ['qr-line.png','qr-line.PNG','qr_line.png','qr-line.jpg']
  };

  const IMG = document.getElementById('contact-qr-img');
  const FBACK = document.getElementById('qr-fallback');
  const WRAP = document.getElementById('qr-wrap');
  const PLATFORM_LABEL = document.getElementById('qr-platform-label');

  // cancellation guard for async image checks
  let latestSetId = 0;

  function showFallback(){ if (IMG) IMG.style.display='none'; if (FBACK) { FBACK.classList.remove('hidden'); FBACK.setAttribute('aria-hidden','false'); } }
  function hideFallback(){ if (FBACK) { FBACK.classList.add('hidden'); FBACK.setAttribute('aria-hidden','true'); } if (IMG) IMG.style.display=''; }

  function testSrc(src){
    return new Promise(resolve=>{
      const t = new Image();
      t.onload = ()=>resolve({ok:true,src});
      t.onerror = ()=>resolve({ok:false,src});
      t.src = src;
    });
  }

  async function findWorkingSrc(platformKey){
    const names = FILE_CANDIDATES[platformKey] || FILE_CANDIDATES.ig;
    const tries = [];
    PATHS.forEach(p => names.forEach(n => tries.push(p + n)));

    for (const s of tries){
      try{
        const r = await testSrc(s);
        if (r.ok) return r.src;
      }catch(e){ /* ignore */ }
    }
    return null;
  }

  function updatePlatformButtons(activeKey){
    document.querySelectorAll('[data-show-qr]').forEach(btn=>{
      const on = btn.dataset.showQr === activeKey;
      btn.classList.toggle('active', on);
      btn.setAttribute('aria-pressed', on ? 'true' : 'false');
    });
  }

  function labelFor(key){ return key==='ig' ? 'Instagram' : key==='fb' ? 'Facebook' : 'LINE'; }

  async function setPlatform(key){
    const myId = ++latestSetId;
    updatePlatformButtons(key);
    if (PLATFORM_LABEL) PLATFORM_LABEL.textContent = labelFor(key);
    if (WRAP) WRAP.className = 'qr-wrap ' + (key==='ig' ? 'ig' : key==='fb' ? 'fb' : 'line');

    hideFallback();

    // subtle loading state
    if (IMG){ IMG.style.opacity = '0.6'; IMG.style.filter = 'blur(1px) grayscale(.02)'; }

    const src = await findWorkingSrc(key);

    // abort if another call happened
    if (myId !== latestSetId) return;

    if (src){
      if (IMG){
        IMG.src = src;
        IMG.alt = 'QR Code ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• (' + labelFor(key) + ')';
        IMG.style.display = '';
        IMG.style.opacity = '';
        IMG.style.filter = '';
      }
      if (FBACK) FBACK.classList.add('hidden');
    } else {
      if (IMG) IMG.style.opacity = '';
      if (FBACK) FBACK.classList.remove('hidden');
      if (IMG) IMG.style.display = 'none';
    }
  }

  // Wire events: ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏° 3 ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á
  document.querySelectorAll('[data-show-qr]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const key = btn.dataset.showQr;
      setPlatform(key);
    });
  });

  // initial render (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢ IG)
  setPlatform('ig');

  // expose for debugging / programmatic control
  window._knw_setQR = setPlatform;

})();

